

[TOC]



# 计算机网络



### 网络模型

#### OSI

+ 应用层、表示层、会话层、传输层、网络层、数据链路层、物理层

####  TCP/IP

+ 应用层、传输层、网络层、网络接口层

#### 五层协议体系

+ 应用层：通过应用的进程完成特定的网络交互（SMTP电子邮件协议、HTTP超文本传输协议、DNS域名解析），应用层的数据单元成为报文
+ 传输层：提供两台主机之间数据传输服务。传输应用层的数据报文。多个应用层的进程可以使用同一个传输层的服务
  + TCP：面向连接，可靠
  + UDP：面向无连接，不可靠
+ 网络层：两台计算级之间的网络有可能会经过多个数据链路，也还可能通过很多通信子网。网络层可以选择合适的网络路由和交换节点。在网络层将运输层产生的数据封装成分组和数据报进行传送。（OSPF RIP协议）
+ 数据链路层：两台主机上的数据传输，总是在一段一段的链路上传送的。数据链路层将网络层交下来的数据报封装成帧，
+ 物理层：实现了相邻计算机节点之间的比特流的透明传送，



### 三次握手

#### 为什么进行三次握手

+ 第一次：客户端发送带有SYN标志的数据包
+ 第二次：服务器返回带有SYN个ACK的数据包，客户端确认了自己的发送、接收正常、对方发送接收正常；服务端确认了对方法送正常，自己接收正常
+ 第三次：客户端发送带有ACK标志的数据包。客户端确认了自己发送接收正常，服务端确认了自己发送接收正常

#### 为什么传回SYN

> 接收端传回发送端所发送的 SYN 是为了告诉发送端，我接收到的信息确实就是你所发送的信号了。

#### 传了SYN为什么还要传ACK

> 双方通信无误必须是两者互相发送信息都无误。传了 SYN，证明发送方到接收方的通道没有问题，但是接收方到发送方的通道还需要 ACK 信号来进行验证。

### 四次挥手

#### 为什么进行四次挥手

+ 第一次：客户端发送一个FIN，用于关闭到服务器的数据传送
+ 服务器端接收到这个FIN，发回一个ACK，确认序号为收到的序号加1，
+ 服务端再向客户端发送一个FIN
+ 客户端收到FIN后返回给服务器端一个ACK确认已经关闭

### TCP,UPD的区别

+ 面向连接、可靠，面向无连接、不可靠
+ TCP传输字节流，UDP传输报文
+ TCP传输速度慢，UDP传输速度快
+ TCP首部20-60个字节，UDP首部8个字节

#### 在网站上输入一个URL访问的原理是什么

+ 通过域名转化为ip，使用到的是DNS协议属于应用层（DNS查找过程：浏览器缓存、路由器缓存、DNS缓存）
+ 发送一个HTTP请求（该网站域下的cookie会随着HTTP发送到后端）
+ 服务器处理请求，返回一个HTML或者JSON数据。
+ 前端接收到数据，渲染页面

#### 状态码

1**：表示接受的请求正在处理

2**：表示请求正常处理完毕

3**：表示需要进行附加操作完成请求

4**：表示服务器无法处理此请求

5**：服务器处理请求出错

### HTTP协议

#### 长链接与短连接

+ 短连接：每次访问服务器的资源都会建立一个HTTP会话

+ 长连接：从HTTP1.1开始可以默认支持长连接，长连接的HTTP请求第一次建立的TCP不会断开连接，后面的对于此服务器的请求就会使用此TCP连接。（Keep-Alive保持得时间内，TCP连接保持）

  > Connection:keep-alive

#### HTTP如何保留用户的状态

+ 使用Cookie记录请求的sessionId，通过sessionId可以获得用户的数据
+ 如果cookie被禁用的话可以使用URL重写将sessionId写到url后面



#### HTTP1.0和HTTP1.1的区别

+ 长连接：在HTTP/1.0中，默认使用的是短连接，HTTP1.1才可以使用长连接
+ 错误状态响应码：HTTP/1.1新增了24个错误状态响应码。如409表示请求资源与资源的当前状态发生冲突。410表示当前资源被永久性的删除
+ 换粗处理：在HTTP1.0中主要使用header里的If-Modified-Since,Expires来做为缓存判断的标准，HTTP1.1则引入了更多的缓存控制策略例如Entity tag，If-Unmodified-Since, If-Match, If-None-Match等更多可供选择的缓存头来控制缓存策略。
+ 带宽优化网络连接的使用：HTTP1.0中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP1.1则在请求头引入了range头域，它允许只请求资源的某个部分，即返回码是206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。

#### HTTP和HTTPS的区别

+ 端口不同：HTTP默认80，HTTPS默认443
+ 安全性和资源消耗：HTTP运行在TCP上，所有的传输都是明文，HTTPS运行在SSL/TLS协议上的HTTP协议，带SSL/TLS运行在TCP之上。所有传输的内容都是经过加密，加密采用对称加密。但是对称加密的秘钥用服务方的证书进行了非对称加密。所以说HTTP没有HTTPS安全性高，但是HTTPS更加消耗资源
  + 对称加密：秘钥只有一个，加密解密为同一个密码，速度快，如DES、AES
  + 非对称加密：秘钥成对出现，加密和解密使用不同的秘钥，相对于对称加密速度较慢，如RSA、DSA





